(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{275:function(module,exports,__webpack_require__){__webpack_require__(276),__webpack_require__(421),module.exports=__webpack_require__(422)},340:function(module,exports){},422:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(273);module._StorybookPreserveDecorators=!0,Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(607),__webpack_require__(608)],module)}.call(this,__webpack_require__(423)(module))},607:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=607},608:function(module,exports,__webpack_require__){var map={"./index.stories.ts":629};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=608},627:function(module,exports,__webpack_require__){var api=__webpack_require__(169),content=__webpack_require__(628);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},628:function(module,exports,__webpack_require__){(exports=__webpack_require__(170)(!1)).push([module.i,".cm-cdata {\r\n    color: rgba(128, 128, 128, 0.3);\r\n}",""]),module.exports=exports},629:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TemplateMode",(function(){return TemplateMode}));__webpack_require__(28),__webpack_require__(111),__webpack_require__(46);var AnchorMode,MatchMode,codemirror=__webpack_require__(10),codemirror_default=__webpack_require__.n(codemirror),clonedeep=(__webpack_require__(609),__webpack_require__(611),__webpack_require__(612),__webpack_require__(613),__webpack_require__(614),__webpack_require__(272),__webpack_require__(616),__webpack_require__(617),__webpack_require__(619),__webpack_require__(620),__webpack_require__(44),__webpack_require__(45),__webpack_require__(17),__webpack_require__(100),__webpack_require__(36),__webpack_require__(63),__webpack_require__(53),__webpack_require__(37),__webpack_require__(101),__webpack_require__(54),__webpack_require__(81),__webpack_require__(166),__webpack_require__(65),__webpack_require__(621),__webpack_require__(622),__webpack_require__(27),__webpack_require__(623),__webpack_require__(55),__webpack_require__(624),__webpack_require__(56),__webpack_require__(625),__webpack_require__(47),__webpack_require__(262),__webpack_require__(626),__webpack_require__(38),__webpack_require__(48),__webpack_require__(274)),clonedeep_default=__webpack_require__.n(clonedeep);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _createForOfIteratorHelper(o){if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(o=_unsupportedIterableToArray(o))){var i=0,F=function(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var it,err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function pushPatternContext(state,pattern){state.patternContext={pre:state.patternContext,pattern:pattern}}function popPatternContext(state){state.patternContext=state.patternContext.pre}function pushStateContext(config,state,mode,stream){var modeObj=codemirror_default.a.getMode(config,mode),context={pre:null,mode:modeObj,state:codemirror_default.a.startState(modeObj,stream&&stream.indentation())};state.stateContext&&(context.pre=state.stateContext),state.stateContext=context}function popStateContext(state){state.stateContext=state.stateContext.pre}function getLocalMode(state){return state.stateContext&&state.stateContext.mode||null}function getLocalState(state){return state.stateContext&&state.stateContext.state||null}function getCurrentPattern(state){return state.patternContext.pattern}function makeSureAnchor(source,start,exist){if(start){if(exist&&!source.startsWith("^"))return"^".concat(source);if(!exist&&source.startsWith("^"))return source.slice(1)}else{if(exist&&!source.endsWith("$"))return"".concat(source,"$");if(!exist&&source.endsWith("$"))return source.slice(0,-1)}return source}function getCachedRegExp(state,regExp,anchor,global){var source=regExp.source,flags=regExp.flags;switch(anchor){case AnchorMode.ALL:source=makeSureAnchor(source,!0,!0),source=makeSureAnchor(source,!1,!0);break;case AnchorMode.END:source=makeSureAnchor(source,!0,!1),source=makeSureAnchor(source,!1,!0);break;case AnchorMode.NONE:source=makeSureAnchor(source,!0,!1),source=makeSureAnchor(source,!1,!1);break;case AnchorMode.START:source=makeSureAnchor(source,!0,!0),source=makeSureAnchor(source,!1,!1)}global&&-1===flags.indexOf("g")?flags="".concat(flags,"g"):global||-1===flags.indexOf("g")||(flags=flags.replace(/g/g,""));var key="".concat(source,"tVes#aE$").concat(flags),cached=state.regExpCache[key];return cached||(cached=new RegExp(source,flags),state.regExpCache[key]=cached),cached}!function(AnchorMode){AnchorMode[AnchorMode.NONE=0]="NONE",AnchorMode[AnchorMode.START=1]="START",AnchorMode[AnchorMode.END=2]="END",AnchorMode[AnchorMode.ALL=3]="ALL"}(AnchorMode||(AnchorMode={})),function(MatchMode){MatchMode[MatchMode.DEFAULT=0]="DEFAULT",MatchMode[MatchMode.PREFIX=1]="PREFIX"}(MatchMode||(MatchMode={}));var FoundMode,REG_SPACE=/^\s*$/,REG_WORD=/\w/;function match(line,position,mode,pattern,state){if("string"==typeof pattern){if(mode===MatchMode.DEFAULT){var index=line.indexOf(pattern,position);return[index,0<=index?pattern:null]}return line.endsWith(pattern,position)?[position-pattern.length,pattern]:[-1,null]}if("function"==typeof pattern)return pattern(line,position,state);if(mode===MatchMode.DEFAULT){var reg=getCachedRegExp(state,pattern,AnchorMode.NONE,!0);reg.lastIndex=position;var result=reg.exec(line);return result?[result.index,result[0]]:[-1,null]}var _reg=getCachedRegExp(state,pattern,AnchorMode.END,!1);_reg.lastIndex=0;var _result=_reg.exec(line.substring(0,position));return _result?[_result.index,_result[0]]:[-1,null]}function matchWithEscape(line,position,pattern,escape,state){for(var _match2=_slicedToArray(match(line,position,MatchMode.DEFAULT,pattern,state),2),pos=_match2[0],matched=_match2[1],escaped=!1;-1!==pos&&(escaped=checkEscape(state,line,pos,escape));){var _match4=_slicedToArray(match(line,pos+(matched?matched.length:0),MatchMode.DEFAULT,pattern,state),2);pos=_match4[0],matched=_match4[1]}return[pos=escaped?-1:pos,-1!==pos?matched:null]}function checkEscape(state,line,offset,escape){return!!escape&&0<=_slicedToArray(match(line,offset,MatchMode.PREFIX,escape,state),1)[0]}function syncState(config,state,stream,layer){layer.open&&layer.nextPattern.mode?pushStateContext(config,state,layer.nextPattern.mode,stream):!layer.open&&layer.prePattern.mode&&popStateContext(state)}function tokenUntil(config,stream,state,until,shift,syncStateWhenReach){var style,localMode=getLocalMode(state),localState=getLocalState(state),layers=state.layers;if(localMode&&localMode.token?(style=localMode.token(stream,localState),stream.pos>until&&stream.backUp(stream.pos-until)):(style=null,stream.pos=until),layers&&layers[0]){var layer=layers[0];stream.pos===until&&(syncStateWhenReach&&syncState(config,state,stream,layer),shift&&layers.shift())}return stream.eol()&&(state.textBefore+="\n"),style}function _token(config,parserConfig,stream,state){state.start&&!stream.sol()||(state.start=!0,state.useRoot=!1,state.layers=function createLayers(parserConfig,state,line,offset){for(var beforeEnter=parserConfig.beforeEnter,afterEnter=parserConfig.afterEnter,beforeExit=parserConfig.beforeExit,afterExit=parserConfig.afterExit,layers=[],matched=null;offset<line.length;){var prePattern,found=FoundMode.NONE,pos=-1,tmpPos=void 0,tmpMatched=null,pattern=void 0,nextPattern=void 0,_prePattern=prePattern=nextPattern=getCurrentPattern(state),close=_prePattern.close,children=_prePattern.children,_escape=_prePattern.escape;if(close){var _matchWithEscape2=_slicedToArray(matchWithEscape(line,offset,close,_escape,state),2);tmpPos=_matchWithEscape2[0],tmpMatched=_matchWithEscape2[1],0<=tmpPos&&(found=FoundMode.POP,pos=tmpPos,matched=tmpMatched)}if(children){var _step,_iterator=_createForOfIteratorHelper(children);try{for(_iterator.s();!(_step=_iterator.n()).done;){var child=_step.value,open=child.open;if(open){var _matchWithEscape4=_slicedToArray(matchWithEscape(line,offset,open,_escape,state),2);tmpPos=_matchWithEscape4[0],tmpMatched=_matchWithEscape4[1],0<=tmpPos&&(-1===pos||tmpPos<pos)&&(found=FoundMode.PUSH,pos=tmpPos,matched=tmpMatched,nextPattern=child)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}}if(found===FoundMode.NONE){state.textBefore+=line.slice(offset);break}state.textBefore+=line.slice(offset,pos),found===FoundMode.PUSH?(pattern=nextPattern,beforeEnter&&beforeEnter(state,{line:line,pos:pos,textBefore:state.textBefore,matched:matched,pattern:pattern}),pushPatternContext(state,pattern),afterEnter&&afterEnter(state,{line:line,pos:pos,textBefore:state.textBefore,matched:matched,pattern:pattern})):(pattern=prePattern,beforeExit&&beforeExit(state,{line:line,pos:pos,textBefore:state.textBefore,matched:matched,pattern:pattern}),popPatternContext(state),afterExit&&afterExit(state,{line:line,pos:pos,textBefore:state.textBefore,matched:matched,pattern:pattern}),nextPattern=getCurrentPattern(state)),state.textBefore="",layers.push({pos:pos,matched:matched,open:found===FoundMode.PUSH,prePattern:prePattern,nextPattern:nextPattern}),offset=pos+(matched?matched.length:0)}return layers}(parserConfig,state,stream.string,stream.start));var layer=state.layers&&state.layers[0];if(layer){var prePattern=layer.prePattern,nextPattern=layer.nextPattern,pos=layer.pos,matched=layer.matched,open=layer.open,end=pos+(matched?matched.length:0);if(stream.start<pos)return tokenUntil(config,stream,state,pos,!1,!1);if(stream.start===pos){var pattern=open?nextPattern:prePattern,patternStyles=pattern.patternStyles,includePattern=pattern.includePattern;return patternStyles?function tokenPattern(config,stream,state){var layers=state.layers,layer=layers&&layers[0];if(!layer)throw new Error("This is impossible!");var open=layer.open,pos=layer.pos,matched=layer.matched,prePattern=layer.prePattern,nextPattern=layer.nextPattern,patternStyles=(open?nextPattern:prePattern).patternStyles;if(stream.pos!==pos||!patternStyles)throw new Error("This is impossible!");return state.useRoot=!0,stream.pos=pos+(matched?matched.length:0),syncState(config,state,stream,layer),layers.shift(),stream.eol()&&(state.textBefore+="\n"),patternStyles[open?0:1]}(config,stream,state):open&&includePattern?(nextPattern.mode&&pushStateContext(config,state,nextPattern.mode,stream),tokenUntil(config,stream,state,end,!0,!1)):open||includePattern?tokenUntil(config,stream,state,end,!0,!0):(prePattern.mode&&popStateContext(state),tokenUntil(config,stream,state,end,!0,!1))}if(stream.start<end)return tokenUntil(config,stream,state,end,!0,!0);throw new Error("This is impossible!")}var localMode=getLocalMode(state),localState=getLocalState(state);return localMode&&localMode.token?localMode.token(stream,localState):(stream.pos=stream.string.length,null)}function copyPatternContext(context){return context?{pre:copyPatternContext(context.pre),pattern:context.pattern}:null}function copyStateContext(context){return context?{pre:copyStateContext(context.pre),mode:context.mode,state:codemirror_default.a.copyState(context.mode,context.state)}:null}!function(FoundMode){FoundMode[FoundMode.PUSH=0]="PUSH",FoundMode[FoundMode.POP=1]="POP",FoundMode[FoundMode.NONE=2]="NONE"}(FoundMode||(FoundMode={}));var FLAG_KEYWORDS=["if"];codemirror_default.a.defineMode("cxj-template-flag",(function(){return{token:function token(stream){if(stream.eatSpace())return null;if(stream.eatWhile(REG_WORD)){var matched=stream.current();return 0<=FLAG_KEYWORDS.indexOf(matched)?"keyword cxj-template-flag-keyword cxj-template-flag-keyword-".concat(matched):null}return stream.next(),null}}})),codemirror_default.a.defineMode("cxj-template",(function(config,parserConfig){var mode=parserConfig.mode,codeMode=parserConfig.codeMode,customBeforeEnter=(parserConfig.open,parserConfig.close,parserConfig.beforeEnter),customAfterExit=parserConfig.afterExit,rest=_objectWithoutProperties(parserConfig,["mode","codeMode","open","close","beforeEnter","afterExit"]),defaultOptions=function createDefaultOptions(baseMode,codeMode){var singleQuote={mode:null,open:"'",close:"'",escape:"\\"},doubleQuote={mode:null,open:'"',close:'"',escape:"\\"},parenthesis={mode:null,open:"(",close:")"},bracket={mode:null,open:"[",close:"]"},brace={mode:null,open:"{",close:"}"},children=[singleQuote,doubleQuote,parenthesis,bracket,brace];parenthesis.children=bracket.children=brace.children=children;var code={mode:codeMode,open:/#{\s*:?/,close:"}",children:children,patternStyles:["bracket cxj-code open","bracket cxj-code close"]},templateHeader={mode:"cxj-template-flag",open:"#[",close:"]",patternStyles:["bracket cxj-template cxj-template-flag open","bracket cxj-template cxj-template-flag close"]},template={mode:baseMode,open:function open(text,from,state){var pos=text.indexOf("[",from);return(!0!==state.customs.justExitTemplate||0<=pos&&!REG_SPACE.test(state.textBefore+text.slice(from,pos)))&&(pos=-1),0<=pos?[pos,"["]:[-1,null]},close:"]",children:[code].concat(children),patternStyles:["bracket cxj-template open","bracket cxj-template close"]};return{name:"cxj-template",mode:baseMode,codeMode:codeMode,afterExit:function afterExit(state,_ref){var pattern=_ref.pattern;pattern!==template&&pattern!==templateHeader||(state.customs.justExitTemplate=!0)},beforeEnter:function beforeEnter(state){state.customs.justExitTemplate=!1},children:[singleQuote,doubleQuote,code,templateHeader,template]}}(mode,codeMode),defaultBeforeEnter=defaultOptions.beforeEnter,defaultAfterExit=defaultOptions.afterExit,finalParserConfig=_objectSpread({},_objectWithoutProperties(defaultOptions,["beforeEnter","afterExit"]),{},rest,{beforeEnter:function beforeEnter(state,info){defaultBeforeEnter(state,info),customBeforeEnter&&customBeforeEnter(state,info)},afterExit:function afterExit(state,info){defaultAfterExit(state,info),customAfterExit&&customAfterExit(state,info)}}),baseMode=finalParserConfig.mode,baseModeObj=baseMode?codemirror_default.a.getMode(config,baseMode):null,initialStateContext=baseModeObj?{pre:null,mode:baseModeObj,state:codemirror_default.a.startState(baseModeObj)}:null,modeObj={token:function token(ss,state){return _token(config,finalParserConfig,ss,state)},startState:function startState(){return{textBefore:"",patternContext:{pre:null,pattern:finalParserConfig},stateContext:initialStateContext,useRoot:!1,start:!1,regExpCache:{},customs:{}}},copyState:function copyState(state){return _objectSpread({},state,{layers:_toConsumableArray(state.layers||[]),patternContext:copyPatternContext(state.patternContext),stateContext:copyStateContext(state.stateContext),customs:clonedeep_default()(state.customs)})},indent:function indent(state,textAfter,line){var localMode=getLocalMode(state);if(localMode&&localMode.indent){var localState=getLocalState(state);return localMode.indent(localState,textAfter,line)}return codemirror_default.a.Pass},innerMode:function innerMode(state){return{state:getLocalState(state)||state,mode:getLocalMode(state)||modeObj}}};return modeObj}));__webpack_require__(627);function index_stories_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function index_stories_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}__webpack_exports__.default={title:"Demo"};var Options={base:{mode:{name:"cxj-template",mode:"sql",codeMode:"groovy"},lineNumbers:!0,autoCloseBrackets:!0,autoCloseTags:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],content:'\nselect f.id, f.name \nfrom Family f\nwhere\n#[if][#{domainInfo.type == "root"}][\n1 = 1\n][#{domainInfo.type == "district"}][\nf.base.project.district = #{:domain}\n][#{domainInfo.type == "project"}][\nf.base.project = #{:domain}\n][#{domainInfo.type == "base"}][\nf.base = #{:domain}\n][\n1 = 0\n]\n'}},TemplateMode=function(){var textAreaElement=document.createElement("textarea");return textAreaElement.id="codemirror-base",textAreaElement};!function registerTrigger(onPageInit,onPageChange){document.addEventListener("DOMContentLoaded",(function(){onPageInit&&onPageInit(),new MutationObserver((function callback(mutationsList){for(var i=0,len=mutationsList.length;i<len;i++)if("childList"==mutationsList[i].type){onPageChange&&onPageChange();break}})).observe(document.getElementById("root"),{childList:!0,subtree:!1})}),!1)}(void 0,(function(){for(var _i=0,_Object$keys=Object.keys(Options);_i<_Object$keys.length;_i++){var _name=_Object$keys[_i],_Options$_name=Options[_name],content=_Options$_name.content,option=index_stories_objectWithoutProperties(_Options$_name,["content"]),textArea=document.getElementById("codemirror-".concat(_name));if(textArea&&"none"!==textArea.style.display){var cm=codemirror.fromTextArea(textArea,option);cm.setValue(content);for(var i=0;i<cm.lineCount();++i)cm.indentLine(i)}}}))}},[[275,1,2]]]);
//# sourceMappingURL=main.80c4d2715924eb77e352.bundle.js.map